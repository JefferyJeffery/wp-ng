!function(e){"use strict";function o(){d.addClass(b)}function n(){d.removeClass(b),d.removeClass(w)}function t(){n(),d.addClass(w)}function r(e){return f(e)&&c(e.then)}function i(o){if(!f(o))throw new Error("Bootstrap configuration must be an object.");if(!p(o.module))throw new Error("'config.module' must be a string.");if(o.resolve&&o.moduleResolves)throw new Error("Bootstrap configuration can contain either 'resolve' or 'moduleResolves' but not both");if(o.resolve&&!f(o.resolve))throw new Error("'config.resolve' must be an object.");if(o.bootstrapConfig&&!f(o.bootstrapConfig))throw new Error("'config.bootstrapConfig' must be an object.");if(o.moduleResolves&&!g(o.moduleResolves))throw new Error("'config.moduleResolves' must be an array.");if(v(o.moduleResolves,function(e){if(!e.module)throw new Error("A 'moduleResolve' configuration item must contain a 'module' name.");if(!f(e.resolve))throw new Error("'moduleResolve.resolve' must be an object.")}),e.isDefined(o.onError)&&!c(o.onError))throw new Error("'config.onError' must be a function.")}function a(o,n){n=e.element(n),o.unshift(["$provide",function(e){e.value("$rootElement",n)}])}function s(o,n){var t=["ng"];return p(o)?t.push(o):g(o)&&(t=t.concat(o)),a(t,n),e.injector(t,n)}function l(o,t,r){var i=m.defer();return e.element(document).ready(function(){e.bootstrap(o,[t],r),n(),i.resolve(!0)}),i.promise}function u(n){function a(e,o,n){var t;if(h.push({name:o,moduleName:n||N}),!c(e)&&!g(e))throw new Error("Resolve for '"+o+"' is not a valid dependency injection format.");if(t=p.instantiate(e),!r(t))throw new Error("Resolve function for '"+o+"' must return a promise.");E.push(t)}function u(o){return v(o,function(o,n){var t=o&&o.data?o.data:o,r=h[n].moduleName,i=h[n].name;e.module(r).constant(i,t)}),l(w,N,y)}function f(e){t(),c(b.onError)&&b.onError(e)}var p,b=n||{},w=b.element,N=b.module,R=b.injectorModules||[],E=[],h=[],y=b.bootstrapConfig;return d=e.element(document.body),o(),i(b),p=s(R,w),m=p.get("$q"),b.moduleResolves?v(b.moduleResolves,function(e,o){v(e.resolve,function(e,n){a(e,n,b.moduleResolves[o].module)})}):v(b.resolve,function(e,o){a(e,o)}),m.all(E).then(u,f)}var d,m,f=e.isObject,c=e.isFunction,g=e.isArray,p=e.isString,v=e.forEach,b="deferred-bootstrap-loading",w="deferred-bootstrap-error",N={bootstrap:u};"function"==typeof define&&define.amd?define([],N):"object"==typeof module&&module.exports?module.exports=N:window.deferredBootstrapper=N}(angular),function(e,o){"use strict";var n=o.wpNg;n.appElement=e.isDefined(n.appElement)&&e.isString(n.appElement)&&n.appElement?e.element(n.appElement):e.element(document.body),n.isDefinedModule=function(o){try{return e.module(o)}catch(e){return}},o.deferredBootstrapper.bootstrap({element:n.appElement,module:n.appName,resolve:{WP_NG_CONFIG:["$q",function(e){var o=e.defer();return o.resolve(n.config),o.promise}]}}),n.app=e.module(n.appName,n.ngModules),e.isDefined(n.ngModules.ngAnimate)&&appRoot.config(["$animateProvider",function(e){e.classNameFilter(/^(?:(?!ng-animate-disabled).)*$/)}]),e.isDefined(n.config.modules.wpNgRest)&&n.app.config(["wpNgRestProvider","WP_NG_CONFIG",function(o,n){e.isDefined(n.modules.wpNgRest.restNonceKey)&&e.isDefined(n.modules.wpNgRest.restNonceVal)&&o.setNonce({key:n.modules.wpNgRest.restNonceKey,val:n.modules.wpNgRest.restNonceVal}),e.isDefined(n.modules.wpNgRest.restUrl)&&e.isDefined(n.modules.wpNgRest.restPath)&&o.setRest({url:n.modules.wpNgRest.restUrl,path:n.modules.wpNgRest.restPath}),e.isDefined(n.modules.wpNgRest.restLangKey)&&e.isDefined(n.modules.wpNgRest.currentLang)&&o.setLang({key:n.modules.wpNgRest.restLangKey,val:n.modules.wpNgRest.currentLang})}]),e.isDefined(n.config.modules.ngScrollbars)&&n.app.config(["ScrollBarsProvider","WP_NG_CONFIG",function(o,n){var t=n.modules.ngScrollbars.defaults;o.defaults=e.isDefined(t)?t:{}}]),n.app.config(["$compileProvider","$logProvider","WP_NG_CONFIG",function(e,o,n){o.debugEnabled(n.enableDebug),e.debugInfoEnabled(n.enableDebug)}]),n.app.run(["$rootScope","$timeout","$log","WP_NG_CONFIG",function(o,t,r,i){t(function(){e.element("body").find(".ng-cloak-animation").removeClass("ng-cloak-animation"),e.element("body").find(".x-ng-cloak-animation").removeClass("x-ng-cloak-animation"),e.element("body").find("[ng-cloak-animation='']").removeAttr("ng-cloak-animation"),e.element("body").find("[x-ng-cloak-animation='']").removeAttr("x-ng-cloak-animation"),e.element("body").find("[data-ng-cloak-animation='']").removeAttr("data-ng-cloak-animation")},2),r.info("WP NG Angular Run app: "+n.appName),r.info("Environment:          "+i.env),r.info("Version Theme:        V"+i.themeVersion),r.info("Debug Mode:           "+i.enableDebug),r.debug("Version WP:          V"+i.wpVersion),r.debug("Version Angular:     V"+e.version.full),r.debug("Language Default:    "+i.defaultLang),r.debug("Language Current:    "+i.currentLang),r.debug("Url Base:            "+i.baseUrl)}])}(angular,window);